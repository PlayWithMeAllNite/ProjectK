# Ювелирная мастерская - Система управления

Java-приложение для управления ювелирной мастерской с использованием JavaFX, MySQL и архитектуры MVC.

## Функциональность

- **Управление клиентами** - добавление, редактирование, удаление клиентов
- **Управление материалами** - каталог материалов с ценами за грамм
- **Управление типами изделий** - типы работ с расценками
- **Управление заказами** - создание заказов с указанием материалов и веса
- **Автоматический расчет** - стоимости заказов с учетом скидок клиентов
- **Ролевая система** - три уровня доступа: ADMIN, MANAGER, MASTER

## Система авторизации

В системе предусмотрено три фиксированных пользователя:

| Логин | Пароль | Роль | Описание |
|-------|--------|------|----------|
| admin | admin | ADMIN | Администратор системы |
| manager | manager | MANAGER | Менеджер |
| master | master | MASTER | Мастер |

**Важно:** Логины и пароли фиксированы и не могут быть изменены через интерфейс.

## Технологии

- **Java 11+**
- **JavaFX** - пользовательский интерфейс
- **MySQL** - база данных
- **Maven** - управление зависимостями
- **SHA-256** - хеширование паролей

## Установка и запуск

### Предварительные требования

1. **Java 11 или выше**
2. **Maven 3.6+**
3. **MySQL 5.7+** (рекомендуется XAMPP)

### Настройка базы данных

1. Запустите MySQL сервер
2. Выполните SQL-скрипт `database_schema.sql` для создания базы данных и таблиц
3. Убедитесь, что настройки подключения в `DatabaseManager.java` соответствуют вашей конфигурации

### Сборка и запуск

```bash
# Клонирование репозитория
git clone https://github.com/PlayWithMeAllNite/ProjectK.git
cd ProjectK

# Сборка проекта
mvn clean compile

# Запуск приложения
mvn javafx:run
```

### Альтернативный запуск

```bash
# Создание JAR файла
mvn clean package

# Запуск JAR файла
java -jar target/jewelry-workshop-1.0-SNAPSHOT.jar
```

## Структура проекта

```
src/
├── main/
│   ├── java/org/example/
│   │   ├── controller/     # Контроллеры для работы с БД
│   │   ├── database/       # Менеджер подключения к БД
│   │   ├── model/          # Модели данных
│   │   └── view/           # Контроллеры интерфейса
│   └── resources/
│       └── fxml/           # FXML файлы интерфейса
└── test/                   # Тесты
```

## Основные возможности

### Управление заказами
- Создание заказов с указанием клиента и типа изделия
- Добавление материалов в заказ с указанием веса
- Автоматический расчет стоимости материалов и работы
- Учет скидок клиентов
- Изменение статуса заказов (В работе, Готов, Выполнен, Отменен)

### Система скидок
- Автоматическое начисление скидок клиентам при выполнении заказов
- Обновление общей суммы покупок клиента
- Применение скидки к новым заказам

### Безопасность
- Хеширование паролей с использованием SHA-256
- Защита от SQL-инъекций через PreparedStatement
- Ролевая система доступа

## Лицензия

MIT License

## Автор

Проект создан для управления ювелирной мастерской. 