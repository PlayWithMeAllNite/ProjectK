# Система управления ювелирной мастерской

Java-приложение для управления ювелирной мастерской, реализованное с использованием паттерна MVC, JavaFX и MySQL.

## Функциональность

### Реализованные модули:
- **Клиенты** - управление базой клиентов (добавление, редактирование, удаление)
- **Материалы** - управление материалами и их стоимостью
- **Типы изделий** - управление типами ювелирных изделий и стоимостью работы
- **Заказы** - управление заказами с расчетом стоимости и скидок

### Основные возможности:
- ✅ CRUD-операции для всех сущностей
- ✅ Параметрические SQL-запросы с защитой от инъекций
- ✅ Многократный проход по данным без избыточных запросов
- ✅ Современный JavaFX интерфейс
- ✅ Диалоги для добавления/редактирования
- ✅ Валидация данных
- ✅ Подтверждение удаления
- ✅ Автоматический расчет стоимости заказов

## Техническая реализация

### Архитектура:
- **MVC паттерн** - четкое разделение логики
- **Singleton контейнеры** - для хранения коллекций данных
- **Контроллеры** - управление бизнес-логикой и БД
- **JavaFX представления** - современный UI

### База данных:
- MySQL с таблицами: clients, materials, product_types, orders, order_materials
- Связи между таблицами через внешние ключи
- Индексы для оптимизации запросов

### Безопасность:
- Параметрические запросы для защиты от SQL-инъекций
- Валидация входных данных
- Обработка ошибок

## Установка и запуск

### Требования:
- Java 11 или выше
- MySQL 8.0 или выше
- Maven 3.6+

### Настройка базы данных:
1. Создайте базу данных MySQL
2. Выполните SQL-скрипт `database_schema.sql`
3. Настройте подключение в `DatabaseManager.java`

### Сборка и запуск:
```bash
# Сборка проекта
mvn clean package

# Запуск приложения
java -jar target/jewelry-workshop-1.0-SNAPSHOT.jar
```

## Структура проекта

```
src/main/java/org/example/
├── controller/          # Контроллеры для управления данными
│   ├── ClientsController.java
│   ├── MaterialsController.java
│   ├── ProductTypesController.java
│   └── OrdersController.java
├── model/              # Модели данных
│   ├── Client.java
│   ├── Material.java
│   ├── ProductType.java
│   ├── Order.java
│   └── контейнеры (Clients.java, Materials.java, etc.)
├── view/               # JavaFX контроллеры представлений
│   ├── MainController.java
│   ├── ClientDialogController.java
│   ├── MaterialDialogController.java
│   ├── ProductTypeDialogController.java
│   └── OrderDialogController.java
├── database/           # Управление подключением к БД
│   └── DatabaseManager.java
└── Main.java          # Точка входа приложения

src/main/resources/fxml/
├── MainView.fxml      # Главное окно приложения
├── ClientDialog.fxml  # Диалоги для CRUD операций
├── MaterialDialog.fxml
├── ProductTypeDialog.fxml
└── OrderDialog.fxml
```

## Особенности реализации

### Модели данных:
- Полные геттеры и сеттеры
- Автоматический расчет стоимости заказов
- Система скидок для клиентов
- Enum для статусов заказов

### Контроллеры:
- Singleton паттерн для доступа к данным
- Методы загрузки, добавления, обновления, удаления
- Обработка ошибок БД
- Логирование операций

### Представления:
- Современный JavaFX интерфейс
- Таблицы с сортировкой
- Модальные диалоги для редактирования
- Валидация форм
- Подтверждение критических операций

## Статус проекта

✅ **ЗАВЕРШЕНО** - Все основные требования ТЗ реализованы:
- Модели с геттерами/сеттерами
- Singleton контейнеры
- Контроллеры с CRUD операциями
- JavaFX представления
- Подключение к MySQL
- Защита от SQL-инъекций
- Исполняемый JAR файл

### Что реализовано:
- ✅ Полный CRUD для клиентов, материалов, типов изделий, заказов
- ✅ Современный JavaFX интерфейс с таблицами и диалогами
- ✅ Автоматический расчет стоимости заказов
- ✅ Система скидок для клиентов
- ✅ Валидация данных
- ✅ Подтверждение удаления
- ✅ Исполняемый JAR с зависимостями

### Готово к использованию:
Приложение полностью функционально и готово к использованию в ювелирной мастерской для управления клиентами, материалами, типами изделий и заказами. 